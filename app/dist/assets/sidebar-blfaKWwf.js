import{s,b as i,l as u}from"./index-Cz3doEcl.js";import{B as b}from"./baseService-IKxxVQs3.js";import{a as n,S as d}from"./sidebar-DDdgP50r.js";import{i as h}from"./isUndefined-DCTLXrZ8.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";class j extends b{state;constructor(){super("sidebar"),this.state=new n}get(t){if(!h(t))return this.getAll().find(s(t))}getAll(){return this.getState().data}getCurrent(){return this.getState().current}getCurrentPane(){return this.get(this.getCurrent())}getToolbar(t,e){return this.get(t)?.toolbar?.find(s(e))}add(t){this.dispatch(e=>{e.data.push(...i(t))})}addToolbar(t,e){this.dispatch(r=>{const a=r.data.find(s(t));a&&(a.toolbar??=[],a.toolbar.push(...i(e)))})}update(t,e){this.dispatch(r=>{const a=r.data.find(s(typeof t=="object"?t.id:t));a&&Object.assign(a,typeof t=="object"?t:e?.(a))})}updateToolbar(t,e,r){this.dispatch(a=>{const o=a.data.find(s(t))?.toolbar?.find(s(typeof e=="object"?e.id:e));o&&Object.assign(o,typeof e=="object"?e:r?.(o))})}replaceToolbar(t,e,r){this.dispatch(a=>{const o=a.data.find(s(t))?.toolbar?.find(s(e));o&&Object.assign(o,r)})}remove(t){this.dispatch(e=>{const r=e.data.findIndex(s(t));r!==-1&&(e.current===t&&(e.current=u(e.data,r)?.id),e.data.splice(r,1))})}setCurrent(t){this.dispatch(e=>{e.current=t})}setLoading(t){this.dispatch(e=>{e.loading=typeof t=="function"?t(e.loading):t})}reset(){this.setState(new n)}onToolbarClick=t=>{this.subscribe(d.onToolbarClick,t)};onContextMenu(t){this.subscribe(d.onContextMenu,t)}}export{j as SidebarService};
//# sourceMappingURL=sidebar-blfaKWwf.js.map
