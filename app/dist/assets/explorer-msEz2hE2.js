import{u as n,s,b as r,v as o}from"./index-Cz3doEcl.js";import{B as l}from"./baseService-IKxxVQs3.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";class g extends l{state;constructor(){super("explorer"),this.state=new n}get(t){return this.getAll().find(s(t))}getAll(){return this.getState().data}getActive(){return this.getState().active}setActive(t){this.dispatch(e=>{e.active=t})}toggleActive(t){this.dispatch(e=>{const a=e.active.findIndex(i=>i===t);a===-1?e.active.push(t):e.active.splice(a,1)})}update(t,e){typeof t=="object"?this.dispatch(a=>{const i=a.data.find(s(t.id));i&&Object.assign(i,t)}):this.dispatch(a=>{const i=a.data.find(s(t));i&&Object.assign(i,e?.(i))})}add(t){this.dispatch(e=>{e.data.push(...r(t))})}addToolbar(t,e){this.dispatch(a=>{const i=a.data.findIndex(s(t));i!==-1&&(a.data[i].toolbar??=[],a.data[i].toolbar?.push(...r(e)))})}remove(t){this.dispatch(e=>{const a=e.data.findIndex(s(t));a!==-1&&e.data.splice(a,1)})}removeToolbar(t,e){this.dispatch(a=>{const i=a.data.findIndex(s(t));i!==-1&&(typeof e=="function"?a.data[i].toolbar=a.data[i].toolbar?.filter(e):a.data[i].toolbar=a.data[i].toolbar?.filter(d=>!e.includes(d.id)))})}togglePanel(t,e){this.update(t,a=>({hidden:typeof e=="boolean"?e:!a.hidden}))}reset(){this.setState(new n)}onPanelToolbarClick(t){this.subscribe(o.onPanelToolbarClick,t)}onCollapseChange(t){this.subscribe(o.onCollapseChange,t)}onContextMenu(t){this.subscribe(o.onContextMenu,t)}}export{g as ExplorerService};
//# sourceMappingURL=explorer-msEz2hE2.js.map
