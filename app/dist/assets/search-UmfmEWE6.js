import{a3 as o,a4 as d,b as c,a5 as r,i as l}from"./index-Cz3doEcl.js";import{B as u}from"./baseService-IKxxVQs3.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";var x=Object.getOwnPropertyDescriptor,y=(e,t,s,a)=>{for(var i=a>1?void 0:a?x(t,s):t,n=e.length-1,h;n>=0;n--)(h=e[n])&&(i=h(i)||i);return i};let p=class extends u{state;constructor(){super("search"),this.state=new o}getValue(){return this.getState().value}getExpandedKeys(){return this.getState().expandedKeys}getMode(){return this.getState().mode}setValue(e){this.dispatch(t=>{t.value=e})}setValidateInfo(e){this.dispatch(t=>{t.validateInfo=typeof e=="string"?{status:"info",message:e}:e})}setMode(e){this.dispatch(t=>{t.mode=e})}toggleMode(e){const t=e||(this.getMode()===d.list?d.tree:d.list);this.setMode(t)}setResult(e,t){this.dispatch(s=>{s.result={total:t,results:e}})}setExpandedKeys(e){this.dispatch(t=>{t.expandedKeys=e})}expandAll(){this.dispatch(e=>{const t=e.result.results.map(s=>s.filename);e.expandedKeys=t})}addExpandedKeys(e){this.dispatch(t=>{t.expandedKeys.push(...c(e))})}removeExpandedKeys(e){this.dispatch(t=>{c(e).forEach(s=>{const a=t.expandedKeys.indexOf(s);a!==-1&&t.expandedKeys.splice(a,1)})})}reset(){this.setState(new o)}onChange(e){this.subscribe(r.onChange,e)}onSearch(e){this.subscribe(r.onSearch,e)}onSelect(e){this.subscribe(r.onSelect,e)}onEnter(e){this.subscribe(r.onEnter,e)}};p=y([l()],p);export{p as SearchService};
//# sourceMappingURL=search-UmfmEWE6.js.map
