import{at as s,aw as y}from"./index-Cz3doEcl.js";import{u as g}from"./useMonaco-BkeTL_J3.js";import{e as u}from"./editor.api-ZhmqmMMK.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";function v({className:l,style:a,instance:t,options:d={},model:r,language:n,override:p,value:c,onMount:m,onModelMount:M}){const o=s.useRef(null),E=g();function h(){const e=document.createElement("div");return e.style.setProperty("position","relative"),e.style.setProperty("width","100%"),e.style.setProperty("height","100%"),e}return s.useEffect(()=>{if(!o.current)return;const e=t?.getDomNode();if(e){if(o.current.firstChild===e)return;o.current.innerHTML="",o.current.appendChild(e)}else{const f=h(),i=E.createDiffEditor(f,{...d,readOnly:!0},p);m?.(i)}},[t]),s.useEffect(()=>{t&&t.updateOptions(d)},[d]),s.useEffect(()=>{if(t)if(!r||r.original?.isDisposed()||r.modified?.isDisposed()){const e=u.createModel(c?.[0]||"",n),f=u.createModel(c?.[1]||"",n),i={original:e,modified:f};t.setModel(i),M?.(i)}else{const e=t.getModel();if(r.original===e?.original&&r.modified===e?.modified)return;t.setModel(r)}},[r,t]),y.jsx("div",{ref:o,className:l,style:{height:"100%",width:"100%",...a}})}export{v as default};
//# sourceMappingURL=index-BdSG-xtj.js.map
