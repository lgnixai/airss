import{s as o,l as g,y as C,L as d,b as p}from"./index-Cz3doEcl.js";import{B as L}from"./baseService-IKxxVQs3.js";import{i as c}from"./isUndefined-DCTLXrZ8.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";var i=(a=>(a.onChange="localization.onChange",a))(i||{});class h{constructor(t=[],e){this.data=t,this.current=e}}class u extends L{static LOCALIZE_REPLACED_WORD="${i}";state;constructor(){super("locale"),this.state=new h}getAll(){return this.getState().data}get(t){if(!c(t))return this.getState().data.find(o(t))}getCurrent(){return this.getState().current}getCurrentLocale(){return this.get(this.getCurrent())}removeLocale(t){this.dispatch(e=>{const r=e.data.findIndex(o(t));if(r===-1)return;const s=g(e.data,r)?.id;c(s)||(e.data.splice(r,1),e.current=s)})}setCurrent(t){const e=this.getCurrent();this.dispatch(r=>{r.current=t}),e!==this.getCurrent()&&(this.emit(i.onChange,e,this.getCurrent()),C(d,t.toString()))}add(t){this.dispatch(e=>{e.data.push(...p(t))})}localize=(t,e="",...r)=>{const s=this.getCurrentLocale();if(!s)return e;let n=s.source[t];return r.length&&r.forEach(l=>{n=n?.replace(u.LOCALIZE_REPLACED_WORD,l)}),n||e};reset(){this.state=new h}onChange(t){this.subscribe(i.onChange,t)}}export{u as LocaleService};
//# sourceMappingURL=locale-DL8dgN-O.js.map
