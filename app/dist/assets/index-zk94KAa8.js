import{at as r,au as x,av as l,aw as o,ax as b,aY as E,aX as I,s as j,aZ as v,aQ as _,aO as R,aN as T,aH as w}from"./index-Cz3doEcl.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";function A(e){var n=r.useRef();return r.useEffect(function(){n.current=e}),n.current}function M(){var e=r.useRef(!0);return e.current?(e.current=!1,!0):e.current}var O=function(e,n){var s=M();r.useEffect(function(){if(!s)return e()},n)};function F(e){const n=A(e),s=r.useRef({useMount:()=>{},useCreate:()=>{},useRemove:()=>{}});return r.useEffect(()=>{s.current.useMount(e)},[]),O(()=>{const t=[],c=[];Array.from(new Set([...n||[],...e])).forEach(i=>{e.includes(i)&&!n?.includes(i)?t.push(i):!e.includes(i)&&n?.includes(i)&&c.push(i)}),t.length&&s.current.useCreate(t),c.length&&s.current.useRemove(c)},[e]),{useMount:t=>s.current.useMount=t,useCreate:t=>s.current.useCreate=t,useRemove:t=>s.current.useRemove=t}}const g={item:"mo-notification__item"};function p({data:e,onClose:n,onClick:s}){const t=x(),c=l("builtin");return o.jsxs(b,{className:g.item,justifyContent:"space-between",alignItems:"flex-start",onClick:()=>s?.(e),children:[typeof e.render=="function"?e.render(e):e.value,o.jsx(E,{title:t(c.constants.NOTIFICATION_TOOLBAR_CLEAR,"Clear Notification"),onClick:()=>n?.(e),type:"close"})]})}const h={notification:"mo-notification",header:"mo-notification__header",body:"mo-notification__body"};function k({data:e=[],toolbar:n=[],onActionBarClick:s,onCloseNotification:t}){const c=x(),i=l("builtin"),u=e.length>0?c(i.constants.STATUSBAR_ITEM_NOTIFICATION,"Notifications"):c(i.constants.NOTIFICATION_ITEM_EMPTY,"No New Notifications");return o.jsxs("section",{className:h.notification,children:[o.jsxs(b,{className:h.header,justifyContent:"space-between",children:[o.jsx("span",{children:u}),o.jsx(I,{data:n,onClick:s})]}),o.jsx("div",{className:h.body,children:e.map(a=>o.jsx(p,{data:a,onClose:t},a.id))})]})}const L={bell:"mo-notification__bell"};function P({onKeyPress:e,onClick:n,onClickItem:s,onActionBarClick:t,onCloseNotification:c}){const i=l("notification"),N=l("layout"),u=F(i.toasts),{data:a,toolbar:C}=i,y=a.length>0?"bell-dot":"bell";return u.useCreate(f=>{f.forEach(d=>{const m=i.data.find(j(d));m&&v(o.jsx(p,{data:m,onClose:c,onClick:s}),{id:m.id,duration:1/0,unstyled:!0})})}),u.useRemove(f=>{f.forEach(d=>{v.dismiss(d)})}),r.useEffect(()=>(window.addEventListener("keydown",e),()=>{window.addEventListener("keydown",e)}),[]),o.jsxs(o.Fragment,{children:[o.jsx(R,{className:T(L.bell),onClick:n,type:y}),_.createPortal(o.jsx(w,{visible:!N.notification.hidden,children:o.jsx(k,{data:a,toolbar:C,onActionBarClick:t,onCloseNotification:c})}),document.body)]})}export{P as default};
//# sourceMappingURL=index-zk94KAa8.js.map
