import{M as a,T as o,z as c,s as d,B as i}from"./index-Cz3doEcl.js";import{B as p}from"./baseService-IKxxVQs3.js";import{i as h}from"./isUndefined-DCTLXrZ8.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";class M extends p{state;constructor(){super("menuBar"),this.state=new a}get(e){return new o(this.getState().data).getNode(e)}update(e,r){this.dispatch(n=>{const t=new o(n.data).getNode(typeof e=="object"?e.id:e);t&&Object.assign(t,typeof e=="object"?e:r?.(t))})}toggleChecked(e){this.update(e,r=>({icon:c(r.icon)}))}setMenus=e=>{this.dispatch(r=>{r.data=e})};add(e,r){this.dispatch(n=>{const t=new o(n.data).getNode(r);t&&(t.children??=[],t.children.push(e))})}remove(e){this.dispatch(r=>{const s=new o(r.data).getParent(e);if(!s)return;const t=s.children?.findIndex(d(e));t===-1||h(t)||s.children?.splice(t,1)})}reset(){this.setState(new a)}onSelect=e=>{this.subscribe(i.onSelect,e)};onContextMenu(e){this.subscribe(i.onContextMenu,e)}}export{M as MenuBarService};
//# sourceMappingURL=menuBar-fd0pOvtH.js.map
