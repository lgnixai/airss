import{a1 as i,s as r,b as n,l as d,a2 as a}from"./index-Cz3doEcl.js";import{B as h}from"./baseService-IKxxVQs3.js";import"./react-vendor-Bs7gn1Hv.js";import"./monaco-vendor-Dv-Uvxl1.js";class g extends h{state;constructor(){super("panel"),this.state=new i}get(t){return this.getAll().find(r(t))}getAll(){return this.getState().data}getToolbar(t){return this.getState().toolbar.find(r(t))}getPanelToolbar(t,e){return this.get(t)?.toolbar?.find(r(e))}add(t){this.dispatch(e=>{e.data.push(...n(t))})}update(t,e){this.dispatch(s=>{const o=s.data.find(r(typeof t=="object"?t.id:t));o&&Object.assign(o,typeof t=="object"?t:e?.(o))})}remove(t){this.dispatch(e=>{const s=e.data.findIndex(r(t));s!==-1&&(e.current===t&&(e.current=d(e.data,s)?.id),e.data.splice(s,1))})}setCurrent(t){this.dispatch(e=>{e.current=t})}open(t){const e=this.get(t.id);e?this.setCurrent(e.id):(this.add(t),this.setCurrent(t.id))}addToolbar(t){this.dispatch(e=>{e.toolbar.push(...n(t))})}updateToolbar(t,e){this.dispatch(s=>{const o=s.toolbar.find(r(typeof t=="object"?t.id:t));o&&Object.assign(o,typeof t=="object"?t:e?.(o))})}toggle(t){this.update(t,e=>({hidden:!e.hidden}))}reset(){this.setState(new i)}onChange(t){this.subscribe(a.onChange,t)}onToolbarClick(t){this.subscribe(a.onToolbarClick,t)}onClose(t){this.subscribe(a.onClose,t)}onContextMenu(t){this.subscribe(a.onContextMenu,t)}}export{g as PanelService};
//# sourceMappingURL=panel-2YQPKBLU.js.map
